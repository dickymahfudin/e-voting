<div class="container mt-5">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h2 class="text-center mb-4">Daftar User</h2>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table id="userTable" class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th style="width: 5%">No</th>
              <th style="width: 30%">Nama</th>
              <th style="width: 20%">Status</th>
              <th style="width: 45%">Aksi</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach((user, i)=> { %>
            <tr>
              <td style="width: 5%"><%= i+1 %></td>
              <td style="width: 30%"><%= user.nama %></td>
              <td style="width: 20%" class="<%= user.status ? 'text-primary' : 'text-danger' %>">
                <%= user.status ? 'Sudah Memilih' : 'Belum Memilih' %>
              </td>
              <td style="width: 45%">
                <form action="/users/edit/<%= user.id %>" method="POST" class="edit-form d-inline d-flex">
                  <input type="text" name="nama" value="<%= user.nama %>" class="form-control flex-grow-1" />
                  <button type="submit" class="btn btn-primary ms-2"><i class="fas fa-edit"></i> Edit</button>
                </form>
                <form action="/users/delete/<%= user.id %>" method="POST" class="delete-form d-inline">
                  <button type="submit" class="btn btn-danger ms-2"><i class="fas fa-trash"></i> Hapus</button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    new DataTable("#userTable", {
      responsive: true,
    });
  });
</script>
