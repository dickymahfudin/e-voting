<style>
  .card-header {
    font-size: 1.5rem;
  }

  .card-title {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
  }

  .card-text {
    font-size: 1.5rem;
    font-weight: bold;
  }

  .card-footer {
    font-size: 0.9rem;
  }

  .container-lg {
    margin-top: 2rem;
  }

  .card {
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }

  .header-text {
    font-size: 2.5rem;
    font-weight: bold;
    margin-bottom: 1rem;
  }

  .sub-header-text {
    font-size: 1.25rem;
    margin-bottom: 2rem;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", async () => {
    try {
      const response = await fetch("/api/result/percentage");
      const data = await response.json();

      if (data.status === "success") {
        document.getElementById("kandidat1-percentage").innerText = `${data.satu}%`;
        document.getElementById("kandidat2-percentage").innerText = `${data.dua}%`;
        document.getElementById("kandidat3-percentage").innerText = `${data.tiga}%`;
        document.getElementById("total-user").innerText = `Total Data: ${data.totalUser}`;
        document.getElementById("total-voted").innerText = `Total Sudah Memilih: ${data.totalVoted}`;
      }
    } catch (error) {
      console.error("Error fetching percentages:", error);
    }
  });
</script>

<div class="container-lg text-center">
  <h1 class="header-text">Hasil Perolehan Suara</h1>
  <div class="sub-header-text">
    <h4 id="total-user" class="text-info">Total Data: 0</h4>
    <h4 id="total-voted" class="text-success">Total Sudah Memilih: 0</h4>
  </div>

  <div class="container d-flex justify-content-center align-items-center">
    <div class="row">
      <div class="col-md-4 d-flex mb-4">
        <div class="card text-center w-100 d-flex flex-column shadow">
          <div class="card-header bg-danger text-white">
            Kandidat 1
          </div>
          <img src="1.png" class="card-img-top" alt="Kandidat 1">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h2 class="card-title">Anies Muhaimin</h2>
            <h4 class="card-text" id="kandidat1-percentage">0%</h4>
          </div>
          <div class="card-footer text-muted">
            Update terbaru
          </div>
        </div>
      </div>

      <div class="col-md-4 d-flex mb-4">
        <div class="card text-center w-100 d-flex flex-column shadow">
          <div class="card-header bg-warning text-white">
            Kandidat 2
          </div>
          <img src="2.png" class="card-img-top" alt="Kandidat 2">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h2 class="card-title">Prabowo Gibran</h2>
            <h4 class="card-text" id="kandidat2-percentage">0%</h4>
          </div>
          <div class="card-footer text-muted">
            Update terbaru
          </div>
        </div>
      </div>

      <div class="col-md-4 d-flex mb-4">
        <div class="card text-center w-100 d-flex flex-column shadow">
          <div class="card-header bg-success text-white">
            Kandidat 3
          </div>
          <img src="3.png" class="card-img-top" alt="Kandidat 3">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <h2 class="card-title">Ganjar Mahfud</h2>
            <h4 class="card-text" id="kandidat3-percentage">0%</h4>
          </div>
          <div class="card-footer text-muted">
            Update terbaru
          </div>
        </div>
      </div>
    </div>
  </div>
</div>